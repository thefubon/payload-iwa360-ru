# ๐ง ะะฐัััะพะนะบะฐ Email ะดะปั ัะพัะผ ะพะฑัะฐัะฝะพะน ัะฒัะทะธ

## ๐ฏ ะขะตะบััะตะต ัะพััะพัะฝะธะต

โ **API route ะพะฑะฝะพะฒะปะตะฝ** - ะธัะฟะพะปัะทัะตััั ะฑะธะฑะปะธะพัะตะบะฐ Resend  
โ **ะะฐะบะตั ัััะฐะฝะพะฒะปะตะฝ** - `resend@6.1.2`  
โ๏ธ **ะขัะตะฑัะตััั ะฝะฐัััะพะนะบะฐ** - ะฝะตะพะฑัะพะดะธะผะพ ะดะพะฑะฐะฒะธัั API ะบะปััะธ ะฒ `.env`

---

## ๐ ะััััะฐั ะฝะฐัััะพะนะบะฐ (3 ะผะธะฝััั)

### ะจะฐะณ 1: ะกะพะทะดะฐะนัะต ะฐะบะบะฐัะฝั ะฒ Resend

1. ะะตัะตะนะดะธัะต ะฝะฐ [resend.com](https://resend.com)
2. ะะฐัะตะณะธัััะธััะนัะตัั (ะตััั ะฑะตัะฟะปะฐัะฝัะน ะฟะปะฐะฝ)
3. ะะพะดัะฒะตัะดะธัะต email

### ะจะฐะณ 2: ะะพะปััะธัะต API ะบะปัั

1. ะะพะนะดะธัะต ะฒ ะฟะฐะฝะตะปั Resend
2. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป **API Keys**
3. ะะฐะถะผะธัะต **Create API Key**
4. ะกะบะพะฟะธััะนัะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะปัั (ะพะฝ ะฝะฐัะธะฝะฐะตััั ั `re_`)

### ะจะฐะณ 3: ะะพะฑะฐะฒััะต ะดะพะผะตะฝ (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะฝะพ ัะตะบะพะผะตะฝะดัะตััั)

**ะะปั ัะตััะธัะพะฒะฐะฝะธั:**
- ะะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั `onboarding@resend.dev` (ะฟะพ ัะผะพะปัะฐะฝะธั)
- ะะณัะฐะฝะธัะตะฝะธะต: ะฟะธััะผะฐ ะพัะฟัะฐะฒะปััััั ัะพะปัะบะพ ะฝะฐ ะฒะฐั email

**ะะปั production:**
1. ะ Resend ะฟะตัะตะนะดะธัะต ะฒ **Domains**
2. ะะฐะถะผะธัะต **Add Domain**
3. ะะฒะตะดะธัะต ะฒะฐั ะดะพะผะตะฝ (ะฝะฐะฟัะธะผะตั: `yourdomain.com`)
4. ะะพะฑะฐะฒััะต DNS ะทะฐะฟะธัะธ (SPF, DKIM)
5. ะะพะถะดะธัะตัั ะฒะตัะธัะธะบะฐัะธะธ

### ะจะฐะณ 4: ะกะพะทะดะฐะนัะต `.env` ัะฐะนะป

ะ ะบะพัะฝะต ะฟัะพะตะบัะฐ ัะพะทะดะฐะนัะต ัะฐะนะป `.env` ะธ ะดะพะฑะฐะฒััะต:

```bash
# DATABASE (ะตัะปะธ ะตัะต ะฝะตั)
DATABASE_URI=postgresql://user:password@localhost:5432/dbname

# PAYLOAD SECRET (ะตัะปะธ ะตัะต ะฝะตั)
PAYLOAD_SECRET=your-secret-key-here-minimum-32-characters

# ============================================
# EMAIL ะะะกะขะะะะะ
# ============================================

# API ะบะปัั ะพั Resend
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Email ะพัะฟัะฐะฒะธัะตะปั (ะดะปั ัะตััะธัะพะฒะฐะฝะธั ะธัะฟะพะปัะทัะนัะต onboarding@resend.dev)
RESEND_FROM_EMAIL=noreply@yourdomain.com

# ะะปะธ ะดะปั ัะตััะธัะพะฒะฐะฝะธั:
# RESEND_FROM_EMAIL=onboarding@resend.dev

# NEXT.JS
NEXT_PUBLIC_SERVER_URL=http://localhost:3000
```

### ะจะฐะณ 5: ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะตั

```bash
pnpm dev
```

---

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

1. ะัะบัะพะนัะต ัะพัะผั ะฝะฐ ัะฐะนัะต
2. ะะฐะฟะพะปะฝะธัะต ะธ ะพัะฟัะฐะฒััะต ัะพัะผั
3. ะัะพะฒะตัััะต ะบะพะฝัะพะปั ัะตัะผะธะฝะฐะปะฐ:
   - โ ะัะปะธ ะฒะธะดะธัะต: `โ Email ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝ`
   - โ ะัะปะธ ะฒะธะดะธัะต: `โ๏ธ RESEND_API_KEY ะฝะต ะฝะฐะนะดะตะฝ` - ะดะพะฑะฐะฒััะต ะบะปัั ะฒ `.env`
4. ะัะพะฒะตัััะต ะฟะพััั ะฟะพะปััะฐัะตะปั

---

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### 1. **ะัะธ ะพัะฟัะฐะฒะบะต ัะพัะผั:**
```typescript
// API route ะฐะฒัะพะผะฐัะธัะตัะบะธ:
1. ะกะพััะฐะฝัะตั ะดะฐะฝะฝัะต ะฒ ะฑะฐะทั (ะบะพะปะปะตะบัะธั form-submissions)
2. ะัะฟัะฐะฒะปัะตั email ะฐะดะผะธะฝะธัััะฐัะพัั (ะตัะปะธ ัะบะฐะทะฐะฝ emailTo)
3. ะัะฟัะฐะฒะปัะตั ะฟะพะดัะฒะตัะถะดะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั (ะตัะปะธ ะฒะบะปััะตะฝะพ)
```

### 2. **Email ะฐะดะผะธะฝะธัััะฐัะพัั:**
- ะขะตะผะฐ: ะธะท ะฝะฐัััะพะตะบ ัะพัะผั (`emailSubject`)
- ะะพะปััะฐัะตะปั: ะธะท ะฝะฐัััะพะตะบ ัะพัะผั (`emailTo`)
- ะกะพะดะตัะถะธั: ัะฐะฑะปะธัั ัะพ ะฒัะตะผะธ ะทะฐะฟะพะปะฝะตะฝะฝัะผะธ ะฟะพะปัะผะธ

### 3. **Email ะฟะพะปัะทะพะฒะฐัะตะปั (ะพะฟัะธะพะฝะฐะปัะฝะพ):**
- ะัะฟัะฐะฒะปัะตััั, ะตัะปะธ ะฒ ะฝะฐัััะพะนะบะฐั ัะพัะผั ะฒะบะปััะตะฝะพ `sendEmailToUser`
- ะขัะตะฑัะตั ะฝะฐะปะธัะธะต ะฟะพะปั ัะธะฟะฐ "Email" ะฒ ัะพัะผะต
- ะกะพะดะตัะถะธั: ัะตะบัั ััะฟะตัะฐ ะธะท ะฝะฐัััะพะตะบ ัะพัะผั

---

## ๐จ ะัะธะผะตัั email ัะฐะฑะปะพะฝะพะฒ

### Email ะฐะดะผะธะฝะธัััะฐัะพัั:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะพะฒะฐั ะทะฐัะฒะบะฐ ั ัะพัะผั: ะะพะฝัะฐะบัั     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะะผั:      ะะฒะฐะฝ ะะฒะฐะฝะพะฒ              โ
โ Email:    ivan@example.com         โ
โ ะขะตะปะตัะพะฝ:  +7 (916) 123-45-67       โ
โ ะกะพะพะฑัะตะฝะธะต: ะฅะพัั ัะทะฝะฐัั ะพ ะฟัะพะดัะบัะต  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะญัะพ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฒะตะดะพะผะปะตะฝะธะต     โ
โ ั ัะฐะนัะฐ IWA360                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Email ะฟะพะปัะทะพะฒะฐัะตะปั:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ะกะฟะฐัะธะฑะพ!                   โ โ ะัะฐะดะธะตะฝั
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะะฐัะต ัะพะพะฑัะตะฝะธะต ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะพ. โ
โ ะั ัะฒัะถะตะผัั ั ะฒะฐะผะธ ะฒ ะฑะปะธะถะฐะนัะตะต     โ
โ ะฒัะตะผั.                             โ
โ                                    โ
โ ะก ัะฒะฐะถะตะฝะธะตะผ,                       โ
โ ะะพะผะฐะฝะดะฐ IWA360                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ะะฐัััะพะนะบะฐ ะฒ ะฐะดะผะธะฝะบะต

### ะะปั ะบะฐะถะดะพะน ัะพัะผั ะผะพะถะฝะพ ะฝะฐัััะพะธัั:

1. **ะัะฝะพะฒะฝัะต email ะฝะฐัััะพะนะบะธ:**
   - Email ะฟะพะปััะฐัะตะปั (`emailTo`)
   - ะขะตะผะฐ ะฟะธััะผะฐ (`emailSubject`)

2. **ะะพะดัะฒะตัะถะดะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั:**
   - ะะบะปััะธัั/ะฒัะบะปััะธัั ะพัะฟัะฐะฒะบั (`sendEmailToUser`)
   - ะขะตะผะฐ ะฟะธััะผะฐ ะฟะพะปัะทะพะฒะฐัะตะปั (`userEmailSubject`)

3. **ะญะบัะฐะฝ ััะฟะตัะฐ:**
   - ะะฐะณะพะปะพะฒะพะบ (`successTitle`)
   - ะกะพะพะฑัะตะฝะธะต (`successMessage`)
   - ะะพะบะฐะทัะฒะฐัั ะธะบะพะฝะบั (`showSuccessIcon`)

---

## ๐ ะะธะผะธัั ะฑะตัะฟะปะฐัะฝะพะณะพ ะฟะปะฐะฝะฐ Resend

- โ 100 ะฟะธัะตะผ ะฒ ะดะตะฝั
- โ 3,000 ะฟะธัะตะผ ะฒ ะผะตััั
- โ 1 ะดะพะผะตะฝ
- โ ะัะต ััะฝะบัะธะธ API

**ะะปั production:** ัะตะบะพะผะตะฝะดัะตััั ะฟะตัะตะนัะธ ะฝะฐ ะฟะปะฐัะฝัะน ะฟะปะฐะฝ ($20/ะผะตั = 50,000 ะฟะธัะตะผ)

---

## ๐ ะะปััะตัะฝะฐัะธะฒะฝัะต ัะตัะฒะธัั

ะัะปะธ ะฝะต ัะพัะธัะต ะธัะฟะพะปัะทะพะฒะฐัั Resend, ะผะพะถะตัะต ะธะฝัะตะณัะธัะพะฒะฐัั:

### 1. **SendGrid**
```typescript
import sgMail from '@sendgrid/mail'
sgMail.setApiKey(process.env.SENDGRID_API_KEY)
await sgMail.send({ from, to, subject, html })
```

### 2. **AWS SES**
```typescript
import { SESClient, SendEmailCommand } from '@aws-sdk/client-ses'
const client = new SESClient({ region: 'us-east-1' })
await client.send(new SendEmailCommand({ ... }))
```

### 3. **Nodemailer (SMTP)**
```typescript
import nodemailer from 'nodemailer'
const transporter = nodemailer.createTransport({ ... })
await transporter.sendMail({ from, to, subject, html })
```

---

## โ Troubleshooting

### ะัะพะฑะปะตะผะฐ: "Email ะฝะต ะฟัะธัะพะดะธั"

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต `.env` ัะฐะนะป - ะตััั ะปะธ `RESEND_API_KEY`
2. ะัะพะฒะตัััะต ะบะพะฝัะพะปั - ะดะพะปะถะฝะพ ะฑััั `โ Email ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝ`
3. ะัะพะฒะตัััะต ัะฟะฐะผ-ะฟะฐะฟะบั
4. ะัะพะฒะตัััะต ะปะธะผะธัั Resend (ะตัะปะธ ะฟัะตะฒััะตะฝั)
5. ะัะพะฒะตัััะต ะฒะตัะธัะธะบะฐัะธั ะดะพะผะตะฝะฐ ะฒ Resend

### ะัะพะฑะปะตะผะฐ: "Domain not verified"

**ะะตัะตะฝะธะต:**
1. ะัะฟะพะปัะทัะนัะต `onboarding@resend.dev` ะดะปั ัะตััะธัะพะฒะฐะฝะธั
2. ะะปั production ะดะพะฑะฐะฒััะต DNS ะทะฐะฟะธัะธ ะฒ ะฝะฐัััะพะนะบะฐั ะดะพะผะตะฝะฐ

### ะัะพะฑะปะตะผะฐ: "API key invalid"

**ะะตัะตะฝะธะต:**
1. ะะตัะตัะพะทะดะฐะนัะต API ะบะปัั ะฒ Resend
2. ะฃะฑะตะดะธัะตัั, ััะพ ะบะปัั ะฝะฐัะธะฝะฐะตััั ั `re_`
3. ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะตั ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธั `.env`

---

## ๐ ะะพะดะดะตัะถะบะฐ

- **Resend Docs:** [resend.com/docs](https://resend.com/docs)
- **Resend Support:** support@resend.com
- **Status Page:** [status.resend.com](https://status.resend.com)

---

## โ ะงะตะบ-ะปะธัั ัะธะฝะฐะปัะฝะพะน ะฟัะพะฒะตัะบะธ

- [ ] ะกะพะทะดะฐะฝ ะฐะบะบะฐัะฝั ะฒ Resend
- [ ] ะะพะปััะตะฝ API ะบะปัั
- [ ] API ะบะปัั ะดะพะฑะฐะฒะปะตะฝ ะฒ `.env` ัะฐะนะป
- [ ] ะกะตัะฒะตั ะฟะตัะตะทะฐะฟััะตะฝ
- [ ] ะคะพัะผะฐ ะพัะฟัะฐะฒะปะตะฝะฐ ะดะปั ัะตััะฐ
- [ ] Email ะฟัะธัะตะป ะฝะฐ ะฟะพััั
- [ ] ะ ะบะพะฝัะพะปะธ ะฒะธะดะฝะพ `โ Email ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝ`

---

**๐ ะะพัะพะฒะพ! ะขะตะฟะตัั ะฒัะต ัะพัะผั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพัะฟัะฐะฒะปััั email!**

